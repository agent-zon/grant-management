{
  "name": "mcp-example",
  "version": "1.0.0",
  "description": "A simple MCP server example project.",
  "type": "module",
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.21.1",
    "@sap-cloud-sdk/connectivity": "^4.1.2",
    "@sap-cloud-sdk/http-client": "^4.1.2",
    "@sap-cloud-sdk/resilience": "^4.1.2",
    "@sap/approuter": "^20.8.3",
    "@sap/cds": "^9",
    "@sap/xssec": "^4",
    "axios": "^1.12.2",
    "body-parser": "^2.2.0",
    "compression": "^1.8.1",
    "cross-env": "^10.0.0",
    "express": "^4",
    "jwt-decode": "^4.0.0",
    "method-override": "^3.0.0",
    "react": "^19.2.0",
    "react-dom": "^19.1.1",
    "ts-node": "^10.9.2",
    "tsx": "^4.20.6"
  },
  "devDependencies": {
    "@cap-js/cds-typer": ">=0.1",
    "@cap-js/cds-types": "^0.14.0",
    "@cap-js/sqlite": "^2",
    "@sap/cds-dk": "^9.3.2",
    "@types/express": "^4",
    "@types/node": "^22.0.0",
    "tsx": "^4",
    "typescript": "^5"
  },
  "scripts": {
    "start": "npx cds-tsx serve",
    "watch": "npx cds-tsx watch",
    "debug": "npx cds debug ",
    "hybrid": "npx cds bind  --profile hybrid  --exec -- npm run start",
    "hybrid:client": "npx cds bind --profile hybrid --exec -- npm run start -w app/client",
    "hybrid:router": "npx cds bind --profile hybrid --exec -- node ./node_modules/@sap/approuter/approuter.js -w ./app/router",
    "build": "npx cds build --production",
    "build:containers": "ctz containerize.yaml --log",
    "deploy:helm": "npm run build && helm upgrade mcp-example ./gen/chart --install --create-namespace",
    "bind": "npx cds bind --to-app-services agents-srv --on k8s"
  },
  "private": true,
  "imports": {
    "#cds-models/*": "./@cds-models/*/index.js",
    "#cds-ssr": "./srv/render/index.js"
  },
  "cds": {
    "log":{
      "levels": {
        "cds": "debug"
      }
    },
    "requires": {
      "[production]": {
        "auth": "ias"
      },
      "authorization_api": {
        "kind": "rest",
        "credentials": {
          "url": "https://agents-approuter-grant-management.c-127c9ef.stage.kyma.ondemand.com/oauth-server/authorize_dialog"
        },
        "[development]": {
          "credentials": {
            "url": "http://localhost:9000/oauth-server/authorize_dialog"
          }
        },
        "[hybrid]": {
          "credentials": {
            "url": "https://agents-approuter-grant-management.c-127c9ef.stage.kyma.ondemand.com/oauth-server/authorize_dialog"
          }
        }
      },
      "authorization_service": {
        "kind": "odata",
        "model": "srv/external/authorization-service",
        "credentials": {
          "url": "https://agents-srv-grant-management.c-127c9ef.stage.kyma.ondemand.com/oauth-server",
          "forwardAuthToken": false
        },
        "[development]": {
          "credentials": {
            "url": "http://localhost:4004/oauth-server",
            "forwardAuthToken": false
          }
        },
        "[hybrid]": {
          "credentials": {
            "destination": "grant-management-oauth"
          },
          "destinationOptions": {
            "useCache": false
          }
        },
        "[destination]": {
          "credentials": {
            "destination": "grant-management-oauth" 
          },
          "destinationOptions": {
            "useCache": false
          }
        }
      },
      "grant_management": {
        "kind": "odata",
        "model": "srv/external/grant-management",
        "credentials": {
          "url": "https://agents-srv-grant-management.c-127c9ef.stage.kyma.ondemand.com/grants-management",
          "forwardAuthToken": true
        },
        "[development]": {
          "credentials": {
            "url": "http://localhost:4004/grants-management",
            "forwardAuthToken": true
          }
        }, 
        "[hybrid]": {
          "credentials": {
            "destination": "grant-management"
          },
          "destinationOptions": {
            "useCache": true
          }
        }
      },
      "connectivity": true,
      "destinations": true
    }
  },
  "workspaces": [
    "app/*"
  ]
}
